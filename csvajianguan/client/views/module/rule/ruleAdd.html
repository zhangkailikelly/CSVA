<div class="location">
  <h3>&gt; <span> 添加评分规则 </span></h3>
</div>
<form class="form-horizontal" id="ruleAddForm" onsubmit="return ruleAdd()">

  <div class="form-group MT" style="margin-right:0px;">
    <label class="col-sm-2 control-label">起始时间</label>
    <div class="col-sm-4">
      <input type="text"  required="" name="rule[startDate]" class="form-control mydate">
    </div>
    <label class="col-sm-2 control-label">结束时间</label>
    <div class="col-sm-4">
      <input type="text" required="" name="rule[endDate]" class="form-control mydate">
    </div>
  </div>



  <div class="form-group" style="margin-right:0px;">
  <div class="form-group" style="margin-right:0px;">
    <label class="col-sm-2 control-label">规则名称</label>
    <div class="col-sm-10">
      <input type="text" required="" name="rule[name]" class="form-control">
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">是否为当前规则</label>
    <div class="col-sm-10">

      <label class="radio-inline">
        <input type="radio" name="rule[isCurrent]" id="inlineRadio1" value="1">是
      </label>
      <label class="radio-inline">
        <input type="radio" name="rule[isCurrent]" checked="checked" id="inlineRadio2" value="2">否
      </label>
    </div>

  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" id="ruleAddBtn" class="btn btn-default">添加</button>
    </div>
  </div>

</form>

<script>

  function ruleAdd(){
    $.ajax({
      type: 'POST',
      url: '/ruleAdd',
      data: $("#ruleAddForm").serialize(),
      success: function(data){
        if(data.state){
          swal("成功!", "规则添加成功", "success");
        }
        else{
          alert("oh my gad 失败了");
        }
      }
    });

    //最终总是返回false,阻止表单自动提交，因为上面的ajax已经提交了
    return false;
  }


  $('.mydate').datetimepicker({
    format: 'yyyy-mm-dd',
    language:  'zh-CN',
    minView: 2,
    autoclose:true
  });

</script>
